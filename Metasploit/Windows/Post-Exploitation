Automating post-exploitation with Metasploit

Given that have obtained a meterpreter session on the target system, we can leverage various post-exploitation modules to automate the numeration of important information.

To begin with, you will need to put your current meterpreter session in the background, this can be done by running the following command:
-background
Then, we The first module we can explore is the win_privs module, which can be used to automate the enumeration of the current user privileges.
 We can load the module by running the following command:
-use post/windows/gather/win_privs
After loading the module, we will need to configure the module options, in this case, the only option we need to configure is the
SESSION option.
-set SESSION 1

The next module we can use is the enum_logged_on_users which as the name suggests, enumerates a list of currently and previous logged on users.
We can load the module by running the following command:
-use post/windows/gather/enum_logged_on_users
- set SESSION 1

We can also check if the target system is a virtual machine by leveraging a module called checkvm. 
This module will tell you whether the target system is a VM or container. We can load the module by running the following command:
-use post/windows/gather/checkvm

Another important module is the enum_applications module. This module enumerates a list of installed application/programs on the target system. 
We can load the module by running the following command:
-use post/windows/gather/enum_applications
   
We can utilize the enum_av_excluded module to enumerate a list of excluded AV paths on the target system. 
We can load the module by running the following command:
-use post/windows/gather/enum_av_excluded

We can utilize the enum_computers module to enumerate a list of computers connected to the same LAN that the target is a part of.
We can load the module by running the following command:
-use post/windows/gather/enum_computers

We can also enumerate a list of shares by using the enum_shares module. We can load the module by running the following command:
