NMAP
-You can run nmap with specific flags to enum whats inside of SMB. For example:
-nmap -sV -Pn -script smb-enum-shares <target_ip>
To check protocols
  -nmap -p 139,445 -sV --script=smb-protocols <target host>
To check everything
  -nmap -sS -sT -sV --script=smb-enum-sessions,smb-enum-shares,smb-enum-users,smb-os-discovery,smb-enum-services <target host>
HOW TO MOUNT A SMB FILE USING COMMAND LINE IN WINDOWS
-net use Z: \\<target_ip>\C$ <passwd> /user:<user_name>
AND TO REMOVE IT
-net use * /delete
VERSION DETECTION FOR SAMBA
-nmap --script smb-os-discovery.nse -p 445 <target_ip>

SMBMAP
To list shares run
  -smbmap -H [HOST] -u [USERNAME] -p [PASSWORD]
To execute a command
  -smbmap -H [HOST] -u [USERNAME] -p [PASSWORD] -x '<command>'
To list all drives
  -smbmap -H [HOST] -u [USERNAME] -p [PASSWORD] -x 'L'
To list contents of the directoyr of C:\ drive 
  -smbmap -H [HOST] -u [USERNAME] -p [PASSWORD] -r 'C$'
To upload a file
  -smbmap -H [HOST] -u [USERNAME] -p [PASSWORD] --upload '[path/to/file]' '[C$\filename]'
To download a file
  -smbmap -H [HOST] -u [USERNAME] -p [PASSWORD] --download 'C$\filename.txt\'


RPCCLIENT
Its like smbclient, but more powerful and complex.
To find the SID of a certain user, use the following command
-rpcclient -U "<user>" -P "password" \\<target> -c "lookupname -s SID admin"

enum4linux

enum4linux is a tool for enumerating information from Windows and Samba systems. It is a Linux alternative to the Windows tool enum.exe. 
enum4linux is written in Perl and is basically a wrapper around the Samba tools smbclient, rpcclient, net and nmblookup.


CRACKING SMB PASSWORDS WITH MSFCONSOLE
-use auxiliary/scanner/smb/smb_login
-set PASSFILE /usr/share/wordlists/metasploit/unix_passwords.txt
-exploit
